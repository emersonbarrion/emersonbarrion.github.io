(this["webpackJsonpreact-sportsbook-2"]=this["webpackJsonpreact-sportsbook-2"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(7),s=n.n(a),i=(n(20),n(21),n(4)),o=n(3),u=n(2),d=n(5),l=n(11),f=n.n(l),m=n(13);function b(e){return j.apply(this,arguments)}function j(){return(j=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:if(400!==t.status){e.next=7;break}return e.next=5,t.text();case 5:throw n=e.sent,new Error(n);case 7:throw new Error("Network response was not ok.");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){throw console.error("API call failed. "+e),e}var O=Object(d.b)({name:"selection",initialState:{},reducers:{updateSelectionSuccess:function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(o.a)({},t.payload.selectionId,Object(u.a)(Object(u.a)({},e[t.payload.selectionId]),t.payload)))},getSelectionsSuccess:function(e,t){var n=p(t.payload);return Object(u.a)(Object(u.a)({},e),n)}}}),p=function(e){return e.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(o.a)({},t.selectionId,{selectionId:t.selectionId,selectionName:t.selectionName,odds:t.odds,isActive:t.isActive}))}),{})},k=O.actions,h=k.getSelectionsSuccess,I=k.updateSelectionSuccess,x=O.reducer,N=n(14),S=Object(d.b)({name:"marketGroup",initialState:{},reducers:{getMarketGroupsSuccess:function(e,t){return g(t.payload)}}}),g=function(e){return e.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(o.a)({},t.marketTemplateId,e[t.marketTemplateId]?[].concat(Object(N.a)(e[t.marketTemplateId].filter((function(e){return e!==t.marketId}))),[t.marketId]):[t.marketId]))}),{})},w=S.actions.getMarketGroupsSuccess,T=S.reducer,y=Object(d.b)({name:"market",initialState:{},reducers:{getMarketsSuccess:function(e,t){var n=M(t.payload);return Object(u.a)(Object(u.a)({},e),n)}}}),M=function(e){return e.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(o.a)({},t.marketId,{marketId:t.marketId,marketName:t.marketName,marketStatusIdName:t.marketStatusIdName,marketStatusName:t.marketStatusName,marketTemplateId:t.marketTemplateId,selections:t.selections.map((function(e){return e.selectionId}))}))}),{})},C=y.actions.getMarketsSuccess,E=y.reducer,G=Object(d.b)({name:"events",initialState:{},reducers:{getEventsSuccess:function(e,t){var n=F(t.payload);return Object(u.a)(Object(u.a)({},e),n)}}}),F=function(e){return e.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(o.a)({},t.fixtureId,{fixtureId:t.fixtureId,sportName:t.sportName,leagueName:t.leagueName,fixtureName:t.fixtureName,fixtureStatusId:t.fixtureStatusId,fixtureStatusName:t.fixtureStatusName,markets:t.markets.map((function(e){return e.marketId}))}))}),{})},A=function(){return function(e){return fetch("https://pocapi.song88.com/api/v1/fixtures").then(b).catch(v).then((function(t){e(P(t)),e(w(t.map((function(e){return e.markets})).flat())),e(C(t.map((function(e){return e.markets})).flat())),e(h(t.map((function(e){return e.markets})).flat().map((function(e){return e.selections})).flat()))})).catch((function(e){throw e}))}},P=G.actions.getEventsSuccess,B=G.reducer,H=[{id:1,label:"Match Winner"},{id:90,label:"2nd Half - Total"},{id:18,label:"Total"},{id:16,label:"Handicap"}],J=function(){return(Math.floor(900*Math.random()+100)/100).toFixed(2)},L=(n(29),n(15)),D=(n(30),n(1)),W=function(e){var t=function(e){var t=void 0,n=Object(r.useState)("Same"),c=Object(L.a)(n,2),a=c[0],s=c[1],o=Object(i.c)((function(t){return t.selections[e]}),(function(e,n){return n.odds>e.odds?s("down"):n.odds<e.odds&&s("up"),t=setTimeout((function(){s("Same")}),500),n.odds===e.odds}));return Object(r.useEffect)((function(){return function(){clearTimeout(t)}})),{oddsChange:a,selection:o}}(e.id),n=t.oddsChange,c=t.selection;return Object(D.jsxs)("div",{className:"selection "+n,children:[Object(D.jsx)("div",{className:"selection-label",children:null===c||void 0===c?void 0:c.selectionName}),Object(D.jsx)("div",{className:"odds",children:null===c||void 0===c?void 0:c.odds})]})},q=function(e){return Object(i.c)((function(e){return e.markets}))[e]},z=(n(32),function(e){var t=e.id,n=q(t);return Object(D.jsx)("div",{className:"market",children:Object(D.jsx)("div",{className:"selection-list",children:null===n||void 0===n?void 0:n.selections.map((function(e){return Object(D.jsx)(W,{id:e},e)}))})})}),K=function(e){var t=e.id,n=e.label,r=function(e){var t=Object(i.c)((function(e){return e.marketGroups}));return t&&t[e]?Object.values(t[e]):[]}(t);return Object(D.jsxs)("div",{className:"market-group",children:[Object(D.jsx)("div",{className:"market-group-header",children:n}),r.map((function(e){return Object(D.jsx)(z,{id:e},e)}))]})},Q=function(){var e=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.events}));return Object(r.useEffect)((function(){e(A());var t=setInterval((function(){e(I({selectionId:"28067828:1::1",odds:J()}))}),3e3),n=setInterval((function(){e(I({selectionId:"28067828:90:total=1.5:12",odds:J()}))}),5e3),r=setInterval((function(){e(I({selectionId:"28067828:18:total=4:12",odds:J()}))}),7e3),c=setInterval((function(){e(I({selectionId:"28067828:18:total=2.5:13",odds:J()}))}),9e3);return function(){clearInterval(t),clearInterval(n),clearInterval(r),clearInterval(c)}}),[e]),{events:Object.values(t),marketGroupConfig:H}}(),t=e.events,n=e.marketGroupConfig;return Object(D.jsxs)("div",{className:"events-table",children:[Object(D.jsx)("div",{className:"header",children:"Football"}),Object(D.jsx)("div",{className:"event-list",children:t.map((function(e,t){return Object(D.jsxs)("div",{className:"event",children:[Object(D.jsxs)("div",{className:"event-info",children:[Object(D.jsxs)("div",{children:[t," ",e.sportName,"/",e.leagueName]}),e.fixtureName.split(" vs. ").map((function(e){return Object(D.jsx)("div",{children:e},e)}))]}),n.map((function(e){return Object(D.jsx)(K,{label:e.label,id:e.id},e.id)}))]},t)}))})]})},R=function(){return Object(D.jsx)(Q,{})},U=Object(d.a)({reducer:{selections:x,events:B,marketGroups:T,markets:E}}),V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(D.jsx)(c.a.StrictMode,{children:Object(D.jsx)(i.a,{store:U,children:Object(D.jsx)(R,{})})}),document.getElementById("root")),V()}},[[33,1,2]]]);
//# sourceMappingURL=main.ce14c930.chunk.js.map